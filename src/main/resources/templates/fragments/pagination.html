<!-- /templates/fragments/pagination.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="/css/common/pagination.css">
</head>
<body>
<!--todo: 요소 없을 때 처리 여기? 각각? 생각하여 구현-->
<div th:fragment="pagination(currentPage, totalPage)">
    <div class="pagination" id="pagination">
        <button type="button" class="move-btn" th:disabled="${currentPage <= 4}" th:text="'이전'" th:onclick="'viewPage('+${currentPage - (currentPage % 5) - 4}+')'"></button>

        <div class="page-btn-div" th:with="startPage=${(currentPage - (currentPage % 5) + 1)}, endPage=${startPage + 4}">
            <div class="page-btn"
                 th:each="i : ${#numbers.sequence(startPage, endPage)}"
                 th:if="${i <= totalPage}"
                 th:text="${i}"
                 th:classappend="${i == (currentPage + 1)} ? 'current-page-btn'"
                 th:onclick="'viewPage('+${i}+')'">
            </div>
        </div>

        <button type="button" class="move-btn" th:disabled="${(currentPage + (5 - (currentPage % 5))) >= totalPage}" th:text="'다음'" th:onclick="'viewPage('+${currentPage + 6 - (currentPage % 5)}+')'"></button>
    </div>
</div>
</body>
</html>
